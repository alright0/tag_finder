# tag_finder
Тестовое задание: поиск вложенных тегов в html странице на flask 

Реализовать RESTful-сервис который позволит реализовать следующий сценарий: 
1. Внешний пользователь вызывает endpoint в который передаёт произвольный URL адрес. Его запросу присваивается некоторый уникальный идентификатор. 
2. Пользователь может передавать этот идентификатор в endpoint получения результатов обработки. Если обработка завершена, пользователь должен получить количество уникальных тегов в документе, с количеством “вложенных” в него элементов. Например: {“html”: {“count”:1, “nested”:100}, “body”:{“count”:1, “nested”:99}, “H1”: {“count”:2,”nested”:0}. 
3. Входящие данные должны валидироваться, ошибки доступности URL, ответа внешних серверов и т.д. обрабатываться. 

1. Внешний пользователь вызывает endpoint в который передаёт произвольный URL адрес. Его запросу присваивается некоторый уникальный идентификатор.
api имеет два метода:
/api/send - принимает json в post-запросе вида {"link" : "https://urllink/*"} 
/api/<int:link_id> - принимает get-запрос без параметров(основным параметром является уникальный номер ссылки, который передается в endpoint) и возвращает данные из БД по виду 

Чтобы отправить ссылку через тестовый клиент flask, необходимо сделать следующие шаги:
1. Открыть cmd и перейти в директорию расположения проекта ("cd path/to/dir")
2. Вызвать интерпретатор
![1](https://user-images.githubusercontent.com/71926912/118775954-232ec080-b890-11eb-8380-069e78ca9a51.PNG)

3. Импортировать клиент: from app import client
![2](https://user-images.githubusercontent.com/71926912/118776157-5a04d680-b890-11eb-9c8b-ad7558b78b37.PNG)

4. отправить запрос следующего вида: result = client.post("/api/send", json={"link": "https://github.com/"})
![3](https://user-images.githubusercontent.com/71926912/118776375-99cbbe00-b890-11eb-83a4-f912dff6d3eb.PNG)
Чтобы проверить статус запроса необходимо вызвать переменную result, которая вернет http-статус запроса
Чтобы получить ответ сервера, необходимо воспользоваться методом get_json(), который вернет ответ вида {'id': 21, 'link': 'https://github.com/'}

